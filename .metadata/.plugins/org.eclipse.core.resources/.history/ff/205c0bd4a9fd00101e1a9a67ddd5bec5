package com.revplay.test;

import static org.mockito.Mockito.*;
import static org.junit.Assert.*;

import java.util.*;

import org.junit.Before;
import org.junit.Test;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;

import com.revplay.dao.FavoriteDao;
import com.revplay.model.Song;
import com.revplay.service.FavoriteService;

public class FavoriteServiceTest {

    @Mock
    private FavoriteDao favoriteDaoImpl;

    private FavoriteService service;

    @Before
    public void setUp() {
        MockitoAnnotations.initMocks(this);
        service = new FavoriteService(favoriteDaoImpl);
    }


    @Test
    public void testAddFavorite() {
        when(favoriteDaoImpl.addFavorite(1, 10)).thenReturn(true);

        boolean result = service.add(1, 10);

        assertTrue(result);
        verify(favoriteDaoImpl).addFavorite(1, 10);
    }


    @Test
    public void testRemoveFavorite() {
        when(favoriteDaoImpl.removeFavorite(1, 10)).thenReturn(true);

        boolean result = service.remove(1, 10);

        assertTrue(result);
        verify(favoriteDaoImpl).removeFavorite(1, 10);
    }


    @Test
    public void testGetFavorites() {
        List<Song> songs = new ArrayList<Song>();
        when(favoriteDaoImpl.getUserFavorites(1)).thenReturn(songs);

        List<Song> result = service.getFavorites(1);

        assertEquals(songs, result);
        verify(favoriteDaoImpl).getUserFavorites(1);
    }
}
